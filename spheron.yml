version: "1.0"

# Configuración básica del despliegue
deployments:
  - name: axiomaaptymok.dev	# Nombre del despliegue
    type: static              # Tipo de sitio (estático)
    path: /                   # Ruta donde están tus archivos
    branch: main              # Rama que se desplegará automáticamente
    framework: static         # Framework (HTML puro)

    # Configuración de build (aunque no necesites compilación)
    build:
      command: echo "No se requiere build para HTML estático"
      outputDir: /            # Directorio de salida

    # Variables de entorno (opcionales)
    env:
      - name: NODE_ENV
        value: production

    # Headers importantes para Three.js y CORS
    headers:
      - key: Access-Control-Allow-Origin
        value: "*"
      - key: Cache-Control
        value: "no-cache, no-store, must-revalidate"

    # Redirecciones (útil para el routing del blog)
    routes:
      - source: /**
        destination: /index.html
        statusCode: 200

    # Configuración de IPFS (opcional)
    ipfs:
      pin: true               # Fijar el contenido en IPFS
      gateway: https://ipfs.io/ipfs/

    # Configuración de DNS (si tienes dominio personalizado)
    # domain:
    #   name: tu-dominio.com
    #   type: cloudflare       # o "aws", "gcp", etc.
    #   value: auto            # IP automática

  - name: axiomaaptymok-dev   # Entorno de desarrollo
    type: static
    path: /
    branch: dev               # Rama de desarrollo
    framework: static
    env:
      - name: NODE_ENV
        value: development

# Configuración global
provider: github              # También puede ser gitlab, bitbucket
autoMerge: true               # Fusionar automáticamente en producción
