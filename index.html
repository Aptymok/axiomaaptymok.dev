<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AxiomaAptymok.dev - Terminal de Guerra Ontológica</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Courier New', monospace;
            background-color: #000;
            color: #0f0;
            touch-action: manipulation;
            line-height: 1.4;
        }

        #terminal-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
        }

        #terminal {
            height: calc(100% - 40px);
            overflow-y: auto;
            padding-right: 10px;
        }

        .terminal-line {
            margin: 8px 0;
            animation: fadeIn 0.5s ease;
        }

        .prompt-line {
            display: flex;
            margin: 15px 0;
        }

        .prompt {
            color: #b19cd9;
            margin-right: 10px;
            white-space: nowrap;
        }

        .input {
            background: transparent;
            border: none;
            color: #0f0;
            outline: none;
            font-family: inherit;
            width: 100%;
            caret-color: #0f0;
        }

        .directory {
            color: #0ff;
            font-weight: bold;
        }

        .file {
            color: #b19cd9;
        }

        .path {
            color: #0f0;
            font-style: italic;
        }

        .output-error { color: #f00; }
        .output-info { color: #0ff; }
        .output-memetic { color: #b19cd9; }
        .output-warning { color: #ff0; }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes glitch {
            0%, 100% { text-shadow: 2px 0 #0ff, -2px 0 #f00; }
            25% { text-shadow: -2px 0 #b19cd9, 2px 0 #0ff; }
            50% { text-shadow: 3px 0 #f00, -3px 0 #b19cd9; }
            75% { text-shadow: -3px 0 #0ff, 3px 0 #f00; }
        }

        #content-screen {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            background: #000;
            overflow-y: auto;
        }

        .content-article {
            margin-bottom: 30px;
            border-left: 2px solid #b19cd9;
            padding-left: 15px;
        }

        #back-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background: transparent;
            color: #b19cd9;
            border: 1px solid #b19cd9;
            font-family: 'Courier New', monospace;
            cursor: pointer;
        }

        #back-button:hover {
            background: #b19cd9;
            color: #000;
        }
    </style>
</head>
<body>
    <div id="terminal-container">
        <div id="terminal"></div>
    </div>

    <div id="content-screen">
        <div id="article-content"></div>
        <button id="back-button">VOLVER</button>
    </div>

    <script>
    // ===== ESTRUCTURA COMPLETA DEL BLOG =====
    const blogStructure = {
        name: "root",
        type: "directory",
        path: "~",
        children: [
            {
                name: "0. Manual de Guerra Ontológica",
                type: "file",
                path: "~/Manual_Guerra_Ontológica.html",
                content: `
                    <div class="content-article">
                        <h1 style="color:#b19cd9;">MANUAL DE GUERRA ONTOLÓGICA</h1>
                        <p style="color:#0f0;">Contra la Domesticación Mental</p>
                        <p>Este manual es tu arma contra la realidad impuesta. Cada técnica aquí descrita es un acto de sabotaje contra el sistema de creencias dominante.</p>
                        <p><strong>Primera regla:</strong> No creas nada de lo que leas aquí. Ponerlo en duda es el primer paso.</p>
                    </div>
                `
            },
            {
                name: "1. Fase 1",
                type: "directory",
                path: "~/Fase1",
                children: [
                    {
                        name: "1.1 Autopsia del Sistema",
                        type: "directory",
                        path: "~/Fase1/Autopsia",
                        children: [
                            {
                                name: "I. Huérfanos Digitales",
                                type: "file",
                                path: "~/Fase1/Autopsia/Huérfanos_Digitales.html",
                                content: `
                                    <div class="content-article">
                                        <h1 style="color:#b19cd9;">MANUSCRITO PARA LOS HUÉRFANOS DIGITALES</h1>
                                        <h2 style="color:#0ff;">Anatomía de la Orfandad Programada</h2>
                                        <p>Nos criaron algoritmos en lugar de padres. Nos alimentaron con likes en lugar de amor.</p>
                                        <p>El diagnóstico es claro: cada notificación es un grito de atención no resuelto de la infancia.</p>
                                        <p><strong>Síntoma clave:</strong> Ansiedad al estar desconectado más de 1 hora.</p>
                                    </div>
                                `
                            },
                            {
                                name: "II. Traición Consensual",
                                type: "file",
                                path: "~/Fase1/Autopsia/Traición_Consensual.html",
                                content: `
                                    <div class="content-article">
                                        <h1 style="color:#b19cd9;">CODEX DE LA TRAICIÓN CONSENSUAL</h1>
                                        <h2 style="color:#0ff;">Cómo vendimos nuestra privacidad por conveniencia</h2>
                                        <p>"No tengo nada que ocultar" fue la frase que nos convirtió en esclavos.</p>
                                        <p>Ejercicio práctico: Intenta pasar 24 horas sin generar datos digitales.</p>
                                    </div>
                                `
                            }
                        ]
                    },
                    {
                        name: "1.2 Disección Social",
                        type: "directory",
                        path: "~/Fase1/Diseccion",
                        children: [
                            {
                                name: "V. Instrumentalización del Trauma",
                                type: "file",
                                path: "~/Fase1/Diseccion/Instrumentalización_Trauma.html",
                                content: `
                                    <div class="content-article">
                                        <h1 style="color:#b19cd9;">INSTRUMENTALIZACIÓN DEL TRAUMA</h1>
                                        <h2 style="color:#0ff;">Cómo la industria terapéutica monetiza el dolor</h2>
                                        <p>Tu sufrimiento vale más que tu felicidad. Así funciona la economía de la salud mental.</p>
                                    </div>
                                `
                            }
                        ]
                    }
                ]
            },
            {
                name: "2. Fase 2",
                type: "directory",
                path: "~/Fase2",
                children: [
                    {
                        name: "2.1 Guerra Cognitiva",
                        type: "directory",
                        path: "~/Fase2/Guerra",
                        children: [
                            {
                                name: "IX. Protocolos de Desubjetivación",
                                type: "file",
                                path: "~/Fase2/Guerra/Protocolos_Desubjetivación.html",
                                content: `
                                    <div class="content-article">
                                        <h1 style="color:#b19cd9;">PROTOCOLOS DE DESUBJETIVACIÓN</h1>
                                        <h2 style="color:#0ff;">Manual para disolver el yo neoliberal</h2>
                                        <p>Tu identidad es tu prisión. Estos son los explosivos.</p>
                                    </div>
                                `
                            }
                        ]
                    }
                ]
            }
        ]
    };

    // ===== VARIABLES GLOBALES =====
    const terminal = document.getElementById("terminal");
    const contentScreen = document.getElementById("content-screen");
    const articleContent = document.getElementById("article-content");
    const backButton = document.getElementById("back-button");
    
    let currentPath = "~";
    let currentDirectory = blogStructure;

    // ===== FUNCIONES BÁSICAS =====
    function printOutput(text, className = "") {
        const line = document.createElement("div");
        line.className = `terminal-line ${className}`;
        line.innerHTML = text;
        terminal.appendChild(line);
        terminal.scrollTop = terminal.scrollHeight;
    }

    function createNewCommandLine() {
        const promptLine = document.createElement("div");
        promptLine.className = "prompt-line terminal-line";
        
        const prompt = document.createElement("span");
        prompt.className = "prompt";
        prompt.textContent = `root@axioma:${currentPath}$`;
        
        const input = document.createElement("input");
        input.className = "input";
        input.type = "text";
        input.autocomplete = "off";
        
        input.addEventListener("keydown", function(e) {
            if (e.key === "Enter") {
                const fullCommand = input.value.trim();
                const commandParts = fullCommand.split(' ');
                const command = commandParts[0];
                const arg = commandParts.slice(1).join(' ');
                
                printOutput(`root@axioma:${currentPath}$ ${fullCommand}`);
                
                if (commands[command]) {
                    commands[command](arg);
                } else {
                    printOutput(`Comando no reconocido: ${command}`, "output-error");
                    createNewCommandLine();
                }
            }
        });
        
        promptLine.appendChild(prompt);
        promptLine.appendChild(input);
        terminal.appendChild(promptLine);
        input.focus();
    }

    function findDirectoryByPath(path) {
        if (path === "~") return blogStructure;
        
        const parts = path.split('/').slice(1);
        let current = blogStructure;
        
        for (const part of parts) {
            const found = current.children.find(
                item => item.type === "directory" && item.name === part
            );
            if (!found) return blogStructure;
            current = found;
        }
        
        return current;
    }

    function openArticle(articleName) {
        // Buscar en toda la estructura
        function findArticle(currentDir, name) {
            for (const item of currentDir.children) {
                if (item.type === "file" && item.name.toLowerCase().includes(name.toLowerCase())) {
                    return item;
                }
                if (item.type === "directory") {
                    const found = findArticle(item, name);
                    if (found) return found;
                }
            }
            return null;
        }

        const article = findArticle(blogStructure, articleName);
        
        if (article) {
            terminal.style.display = "none";
            contentScreen.style.display = "block";
            articleContent.innerHTML = article.content;
        } else {
            printOutput(`Artículo no encontrado: ${articleName}`, "output-error");
            createNewCommandLine();
        }
    }

    // ===== TODOS LOS COMANDOS IMPLEMENTADOS =====
    const commands = {
        'help': () => {
            printOutput("<span style='color:#b19cd9'>COMANDOS DISPONIBLES:</span>", "output-info");
            printOutput("<span class='output-memetic'>help</span> - Enlista los comandos", "output-info");
            printOutput("<span class='output-memetic'>read [nombre]</span> - Abre un artículo", "output-info");
            printOutput("<span class='output-memetic'>search [término]</span> - Busca contenido", "output-info");
            printOutput("<span class='output-memetic'>dir</span> - Lista archivos/carpetas", "output-info");
            printOutput("<span class='output-memetic'>cd [carpeta]</span> - Cambia de directorio", "output-info");
            printOutput("<span class='output-memetic'>cd..</span> - Sube un nivel", "output-info");
            printOutput("<span class='output-memetic'>clear</span> - Limpia la pantalla", "output-info");
            printOutput("<span class='output-memetic'>axiomaaptymok.dev</span> - Distorsión de realidad", "output-info");
            printOutput("<span class='output-memetic'>whoami</span> - Crisis ontológica", "output-info");
            printOutput("<span class='output-memetic'>reboot</span> - Reinicia el sistema", "output-info");
            printOutput("<span class='output-memetic'>exit</span> - Cierra la simulación", "output-info");
            printOutput("<span class='output-memetic'>contact</span> - Datos de contacto", "output-info");
            printOutput("<span class='output-memetic'>whatisthis</span> - Info del proyecto", "output-info");
            createNewCommandLine();
        },

        'read': (arg) => {
            if (!arg) {
                printOutput("Uso: <span class='output-memetic'>read [nombre-del-artículo]</span>", "output-error");
                printOutput("Ejemplo: <span class='output-memetic'>read Huérfanos</span>", "output-info");
                createNewCommandLine();
                return;
            }
            openArticle(arg);
        },

        'dir': () => {
            printOutput(`Contenido de <span class="path">${currentPath}</span>:`, "output-info");
            currentDirectory.children.forEach(item => {
                const itemClass = item.type === "directory" ? "directory" : "file";
                printOutput(`<span class="${itemClass}">${item.name}</span>`, "output-memetic");
            });
            createNewCommandLine();
        },

        'cd': (arg) => {
            if (!arg) {
                printOutput("Especifica un directorio", "output-error");
                createNewCommandLine();
                return;
            }

            if (arg === "..") {
                if (currentPath !== "~") {
                    const pathParts = currentPath.split('/');
                    pathParts.pop();
                    currentPath = pathParts.join('/') || "~";
                    currentDirectory = findDirectoryByPath(currentPath);
                }
                createNewCommandLine();
                return;
            }

            const targetDir = currentDirectory.children.find(
                item => item.type === "directory" && item.name.toLowerCase().includes(arg.toLowerCase())
            );

            if (targetDir) {
                currentPath = targetDir.path;
                currentDirectory = targetDir;
            } else {
                printOutput(`Directorio no encontrado: ${arg}`, "output-error");
            }
            createNewCommandLine();
        },

        'clear': () => {
            terminal.innerHTML = '';
            createNewCommandLine();
        },

        'axiomaaptymok.dev': () => {
            printOutput("INICIANDO DISTORSIÓN DE REALIDAD...", "output-error");
            printOutput("ADVERTENCIA: La interfaz se volverá inestable", "output-error");
            setTimeout(() => {
                document.body.style.animation = "glitch 0.5s infinite";
                printOutput("Realidad fracturada. Nada es lo que parece.", "output-memetic");
                createNewCommandLine();
            }, 1000);
        },

        'whoami': () => {
            printOutput("EJECUTANDO VIVISECCIÓN ONTOLÓGICA...", "output-memetic");
            setTimeout(() => {
                printOutput("ERROR: IDENTIDAD NO ENCONTRADA", "output-error");
                printOutput("El 'yo' es una construcción social", "output-memetic");
                createNewCommandLine();
            }, 1500);
        },

        'reboot': () => {
            printOutput("REINICIANDO SISTEMA...", "output-info");
            setTimeout(() => {
                terminal.innerHTML = '';
                currentPath = "~";
                currentDirectory = blogStructure;
                document.body.style.animation = "";
                printOutput("Sistema reiniciado. Realidad restaurada.", "output-info");
                createNewCommandLine();
            }, 2000);
        },

        'exit': () => {
            printOutput("CERRANDO SIMULACIÓN...", "output-error");
            setTimeout(() => {
                document.body.innerHTML = '<h1 style="color:#f00;text-align:center;margin-top:20%">SIMULACIÓN TERMINADA</h1>';
            }, 1000);
        },

        'contact': () => {
            printOutput("<span class='output-memetic'>CONTACTO DEL PROYECTO:</span>", "output-info");
            printOutput("Email: contacto@axiomaaptymok.dev", "output-info");
            printOutput("Matrix: @axiomaaptymok:matrix.org", "output-info");
            printOutput("Signal: +1234567890", "output-info");
            createNewCommandLine();
        },

        'whatisthis': () => {
            printOutput("<span class='output-memetic'>AXIOMAAPTYMOK.DEV</span>", "output-info");
            printOutput("Versión 6.6.6 | Realidad Fracturada", "output-memetic");
            printOutput("Proyecto de insurrección cognitiva contra la domesticación mental.", "output-info");
            printOutput("Creado como acto de guerra ontológica.", "output-info");
            createNewCommandLine();
        },

        'search': (arg) => {
            if (!arg) {
                printOutput("Uso: <span class='output-memetic'>search [término]</span>", "output-error");
                createNewCommandLine();
                return;
            }
            printOutput(`Buscando "<span class='output-memetic'>${arg}</span>"...`, "output-info");
            printOutput("(Función de búsqueda en desarrollo)", "output-memetic");
            createNewCommandLine();
        }
    };

    // ===== EVENTO DEL BOTÓN VOLVER =====
    backButton.addEventListener("click", () => {
        contentScreen.style.display = "none";
        terminal.style.display = "block";
        createNewCommandLine();
    });

    // ===== INICIAR TERMINAL =====
    printOutput("BIENVENIDO A <span class='output-memetic'>AXIOMAAPTYMOK.DEV</span>", "output-info");
    printOutput("SISTEMA DE REALIDAD FRACTURADA v6.6.6", "output-memetic");
    printOutput("Escribe '<span class='output-memetic'>help</span>' para ver los comandos disponibles", "output-info");
    createNewCommandLine();
    </script>
</body>
</html>
